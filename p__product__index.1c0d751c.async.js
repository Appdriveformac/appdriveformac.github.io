"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[316],{97295:function(G,C,e){var P=e(15009),i=e.n(P),b=e(99289),g=e.n(b),x=e(15910),p=e(94885),D={onCreate:function(){var s=g()(i()().mark(function d(l){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,p.Z)("/create",{method:"POST",prefix:x.A5,data:l}));case 1:case"end":return o.stop()}},d)}));function u(d){return s.apply(this,arguments)}return u}(),onGetList:function(){var s=g()(i()().mark(function d(l){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,p.Z)("/list",{method:"POST",prefix:x.A5,data:l}));case 1:case"end":return o.stop()}},d)}));function u(d){return s.apply(this,arguments)}return u}(),onDelete:function(){var s=g()(i()().mark(function d(l){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,p.Z)("/delete",{method:"POST",prefix:x.A5,data:l}));case 1:case"end":return o.stop()}},d)}));function u(d){return s.apply(this,arguments)}return u}()};C.Z=D},83123:function(G,C,e){var P=e(15009),i=e.n(P),b=e(99289),g=e.n(b),x=e(94885),p=e(15910),D={uploadImage:function(){var s=g()(i()().mark(function d(l){var h;return i()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return h=D.convertJsonToFormData(l),E.abrupt("return",(0,x.Z)("/image",{method:"POST",prefix:p.q7,data:h}));case 2:case"end":return E.stop()}},d)}));function u(d){return s.apply(this,arguments)}return u}(),convertJsonToFormData:function(u){var d=new FormData;return d.append("file",u),d}};C.Z=D},50906:function(G,C,e){e.r(C),e.d(C,{default:function(){return pe}});var P=e(15009),i=e.n(P),b=e(99289),g=e.n(b),x=e(97857),p=e.n(x),D=e(5574),s=e.n(D),u=e(67294),d=e(17788),l=e(53025),h=e(2453),o=e(55060),E=e(66309),Y=e(78957),y=e(14726),M=e(96365),V=e(34041),k=e(71230),q=e(66476),W=e(8925),L=e(78045),ee=e(47389),ae=e(82061),te=e(51042),$=e(1413),re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},ne=re,ie=e(91146),ue=function(_,f){return u.createElement(ie.Z,(0,$.Z)((0,$.Z)({},_),{},{ref:f,icon:ne}))},le=u.forwardRef(ue),oe=le,se=e(90930),de=e(79829),T=e(15910),F=e(94885),ce={onCreate:function(){var j=g()(i()().mark(function f(v){return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,F.Z)("/create",{method:"POST",prefix:T.Eb,data:v}));case 1:case"end":return c.stop()}},f)}));function _(f){return j.apply(this,arguments)}return _}(),onGetList:function(){var j=g()(i()().mark(function f(v){return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,F.Z)("/list",{method:"POST",prefix:T.Eb,data:v}));case 1:case"end":return c.stop()}},f)}));function _(f){return j.apply(this,arguments)}return _}(),onDelete:function(){var j=g()(i()().mark(function f(v){return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,F.Z)("/delete",{method:"POST",prefix:T.Eb,data:v}));case 1:case"end":return c.stop()}},f)}));function _(f){return j.apply(this,arguments)}return _}()},B=ce,me=e(20365),he=e(83123),fe=e(97295),a=e(85893),ve=d.Z.confirm,ge=function(){var _=l.Z.useForm(),f=s()(_,1),v=f[0],S=(0,u.useState)([]),c=s()(S,2),_e=c[0],xe=c[1],Ee=(0,u.useState)([]),w=s()(Ee,2),je=w[0],Ze=w[1],Ce=(0,u.useState)(!1),z=s()(Ce,2),De=z[0],O=z[1],ye=(0,u.useState)(null),H=s()(ye,2),Pe=H[0],N=H[1],be=(0,u.useState)(!1),J=s()(be,2),Te=J[0],A=J[1],Oe=(0,u.useState)(),X=s()(Oe,2),R=X[0],U=X[1],Ie=(0,u.useState)({aspect:1/1}),Q=s()(Ie,2),Ue=Q[0],Ke=Q[1],K=function(){A(!0),B.onGetList({}).then(function(t){t&&t.statusCode&&t.statusCode===200?Ze(t.data):h.ZP.error(t.error?t.error:t.data.message),A(!1)})};(0,u.useEffect)(function(){K(),fe.Z.onGetList({}).then(function(r){r&&r.statusCode&&r.statusCode===200?xe(r.data):h.ZP.error(r.error?r.error:r.data.message),A(!1)})},[]);var Se=[{title:"STT",dataIndex:"index",key:"index",align:"center",render:function(t,m,n){return n+1}},{title:"T\xEAn s\u1EA3n ph\u1EA9m",dataIndex:"name",key:"name",align:"center",render:function(t){return(0,a.jsx)("b",{children:t})}},{title:"\u1EA2nh",dataIndex:"image",key:"image",align:"center",render:function(t,m,n){return(0,a.jsx)(o.Z,{width:100,style:{borderRadius:"10%",boxShadow:"0 0 5px 2px rgba(0, 0, 0, 0.2)"},src:T.jz+m.image})}},{title:"Danh m\u1EE5c",dataIndex:"categoryName",key:"categoryName",align:"center"},{title:"M\xF4 t\u1EA3 g\u1ECDn",dataIndex:"description",key:"description",align:"center"},{title:"Gi\xE1",dataIndex:"price",key:"price",align:"center"},{title:"K\xEDch ho\u1EA1t",dataIndex:"active",key:"active",align:"center",render:function(t){return t?(0,a.jsx)(E.Z,{color:"green",children:"K\xEDch ho\u1EA1t"}):(0,a.jsx)(E.Z,{color:"red",children:"Kh\xF3a"})}},{title:"Th\u1EE9 t\u1EF1 s\u1EAFp x\u1EBFp",dataIndex:"orderNumber",key:"orderNumber",align:"center"},{title:"Ch\u1EE9c n\u0103ng",key:"actions",align:"center",render:function(t,m){return(0,a.jsxs)(Y.Z,{children:[(0,a.jsx)(y.ZP,{type:"primary",icon:(0,a.jsx)(ee.Z,{}),onClick:function(){return Ae(m)},children:"S\u1EEDa"}),(0,a.jsx)(y.ZP,{type:"primary",icon:(0,a.jsx)(ae.Z,{}),onClick:function(){return Be(m)},danger:!0,children:"Xo\xE1"})]})}}],Ae=function(t){v.setFieldsValue(p()({},t)),U(t.image),N(t),O(!0)},Me=function(t,m,n){v.resetFields(),U(void 0),O(!0)},Le=function(){var r=g()(i()().mark(function t(){return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:v.resetFields(),O(!1);case 2:case"end":return n.stop()}},t)}));return function(){return r.apply(this,arguments)}}(),Fe=function(){var r=g()(i()().mark(function t(){var m;return i()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,v.validateFields();case 2:m=I.sent,B.onCreate(p()({},m)).then(function(Z){Z&&Z.statusCode&&Z.statusCode===200?(h.ZP.success(Z.data.message),K()):h.ZP.error(Z.error?Z.error:Z.data.message),O(!1)});case 4:case"end":return I.stop()}},t)}));return function(){return r.apply(this,arguments)}}(),Be=function(t){ve({title:"B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn xo\xE1 s\u1EA3n ph\u1EA9m n\xE0y kh\xF4ng?",okText:"C\xF3",okType:"danger",cancelText:"Kh\xF4ng",onOk:function(){B.onDelete(p()({},t)).then(function(n){n&&n.statusCode&&n.statusCode===200?(h.ZP.success(n.data.message),K()):h.ZP.error(n.error?n.error:n.data.message)})}})},Re=function(t){var m=t.file;m.status==="done"&&he.Z.uploadImage(m.originFileObj).then(function(n){n&&n.statusCode===200?(U(n.data.url),v.setFieldsValue({image:n.data.url})):h.ZP.error(n.data.message),A(!1)})};return(0,a.jsxs)(se._z,{children:[(0,a.jsx)(de.Z,{size:"small",pagination:{defaultPageSize:10,showSizeChanger:!0,showTotal:function(t,m){return(0,a.jsx)("div",{children:"".concat(m[0],"-").concat(m[1]," / T\u1ED5ng s\u1ED1 b\u1EA3n ghi : ").concat(t)})}},loading:Te,options:{reload:!1,setting:!1,density:!1},tooltip:!1,cardBordered:!0,search:!1,columns:Se,bordered:!0,dataSource:je,rowKey:"id",toolBarRender:function(){return[(0,a.jsx)(y.ZP,{style:{marginBottom:10},type:"primary",icon:(0,a.jsx)(te.Z,{}),onClick:Me,children:"Th\xEAm m\u1EDBi"},"3")]}}),(0,a.jsx)(d.Z,{visible:De,title:Pe?"Ch\u1EC9nh s\u1EEDa th\xF4ng tin":"Th\xEAm s\u1EA3n ph\u1EA9m",okText:"L\u01B0u",cancelText:"H\u1EE7y",onCancel:function(){O(!1),N(null)},footer:!0,children:(0,a.jsxs)(l.Z,{form:v,layout:"vertical",children:[(0,a.jsx)(l.Z.Item,{hidden:!0,name:"id",children:(0,a.jsx)(M.Z,{})}),(0,a.jsx)(l.Z.Item,{name:"name",label:"T\xEAn s\u1EA3n ph\u1EA9m",rules:[{required:!0,message:"Vui l\xF2ng nh\u1EADp t\xEAn s\u1EA3n ph\u1EA9m"}],children:(0,a.jsx)(M.Z,{})}),(0,a.jsx)(l.Z.Item,{name:"categoryId",label:"Danh m\u1EE5c",rules:[{required:!0,message:"Vui l\xF2ng danh m\u1EE5c"}],children:(0,a.jsx)(V.Z,{children:_e.map(function(r){return(0,a.jsx)(V.Z.Option,{value:r.id,children:r.name},r.id)})})}),(0,a.jsx)(l.Z.Item,{name:"image",rules:[{required:!0,message:"H\xE3y upload image"}],label:"T\u1EA3i \u1EA3nh",children:(0,a.jsxs)("div",{style:{height:"100%",width:"auto"},id:R?"banner-image":"",children:[(0,a.jsx)(k.Z,{children:(0,a.jsx)(me.Z,{children:(0,a.jsx)(q.Z,{name:"image",accept:"image/*",showUploadList:!1,onChange:Re,children:(0,a.jsx)(y.ZP,{icon:(0,a.jsx)(oe,{}),children:"Ch\u1ECDn"})})})}),R?(0,a.jsx)(o.Z,{width:200,style:{marginTop:5,borderRadius:"10%",boxShadow:"0 0 5px 2px rgba(0, 0, 0, 0.2)"},src:T.jz+R}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)("p",{style:{color:"blue"},children:(0,a.jsx)("b",{children:"Ch\xFA \xFD : Dung l\u01B0\u1EE3ng t\u1ED1i \u0111a cho ph\xE9p l\xE0 1MB"})})]})}),(0,a.jsx)(l.Z.Item,{name:"description",label:"M\xF4 t\u1EA3 g\u1ECDn",children:(0,a.jsx)(M.Z,{})}),(0,a.jsx)(l.Z.Item,{initialValue:0,name:"price",label:"Gi\xE1",children:(0,a.jsx)(W.Z,{defaultValue:0})}),(0,a.jsx)(l.Z.Item,{initialValue:0,name:"orderNumber",label:"Th\u1EE9 t\u1EF1 s\u1EAFp x\u1EBFp",children:(0,a.jsx)(W.Z,{defaultValue:0})}),(0,a.jsx)(l.Z.Item,{initialValue:1,name:"active",label:"K\xEDch ho\u1EA1t",children:(0,a.jsxs)(L.ZP.Group,{defaultValue:1,children:[(0,a.jsx)(L.ZP,{value:1,children:"K\xEDch ho\u1EA1t"}),(0,a.jsx)(L.ZP,{value:0,children:"Kho\xE1"})]})}),(0,a.jsxs)(l.Z.Item,{children:[(0,a.jsx)(y.ZP,{type:"primary",onClick:Fe,children:"L\u01B0u"}),(0,a.jsx)(y.ZP,{style:{marginLeft:8},onClick:Le,children:"Hu\u1EF7"})]})]})})]})},pe=ge}}]);
